;/*FB_PKG_DELIM*/

__d("IGDBroadcastChannelQPTooltip.react",["cr:1017","cr:1271","react","useHasIGBroadcastChannelTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(){var a=c("useHasIGBroadcastChannelTab")();return j(function(){return a&&b("cr:1017")!==null&&b("cr:1271")!==null?i.jsx(b("cr:1271"),{slot:b("cr:1017").SLOTS.inbox_folder_menu}):null},[a])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMqttBaseSubscription",["FBLogger","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){this.subscriptionState="Unsubscribed"}var b=a.prototype;b.getModuleName=function(){throw c("FBLogger")("igd_web_mqtt").mustfixThrow("getModuleName() must be implemented.")};b.subscribe=function(){throw c("FBLogger")("igd_web_mqtt").mustfixThrow("subscribe() must be implemented.")};b.unsubscribe=function(){throw c("FBLogger")("igd_web_mqtt").mustfixThrow("unsubscribe() must be implemented.")};b.logODS=function(a,b){b===void 0&&(b=1),(h||(h=d("ODS"))).bumpEntityKey(5588,"instagram_web_direct_mqtt",this.getModuleName()+"."+a,b)};return a}();g["default"]=a}),98);
__d("IGDMqttChannel",["CurrentUser","Env","FBLogger","IGDMqttWebDeviceID","MqttChannel","MqttEnv","MqttEnvInitializer","PolarisLocales","PolarisUA","PolarisViewer","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;c("MqttEnvInitializer").initialize();var i=null;function a(){i==null&&(i=j());return i}function b(){i!=null&&(i.shutdown(),i=null)}function j(){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);var a=d("PolarisUA").isMobile()?1217981644879628:936619743392459,b={},e=d("PolarisLocales").language_code;e!=null&&(b["Accept-Language"]=e);e=new(c("MqttChannel"))({appId:a,appSpecificInfo:b,capabilities:0,chatVisibility:!1,clientCapabilities:1,clientType:"cookie_auth",deviceId:c("IGDMqttWebDeviceID").clientId,endpoint:(h||(h=c("Env"))).ig_mqtt_wss_endpoint||"wss://edge-chat.instagram.com/chat",initialSubscribedTopics:[],pollingEndpoint:(h||(h=c("Env"))).ig_mqtt_polling_endpoint||"https://edge-chat.instagram.com/mqtt/pull",userFbid:c("nullthrows")(d("PolarisViewer").id)});e.subscribeChannelEvents({onJSError:function(a){c("FBLogger")("igd_web_mqtt").catching(a).mustfix("[IGDMqtt]: MQTT JS error encountered")},onMQTTStateChanged:function(a){c("FBLogger")("igd_web_mqtt").debug("[IGDMqtt]: MQTT State has changed %s",a)}});return e}g.getIGDMqttChannel=a;g.shutdownAndClearIGDMqttChannel=b}),98);
__d("IgdWebOnMsgrQuickLogModule",[],(function(a,b,c,d,e,f){a=Object.freeze({CREATE_GROUP:832770470,ENCRYPTED_BACKUP_SETUP:832779164,GIF_PICKER_OPEN:832767951,IG_DIRECT_OPEN_RECEIVER_FETCH_REQUEST:832772736,IG_IRIS_SUBSCRIPTION_SETUP:832768996,MEDIA_RENDER:832782319,MQTT_PUB:832768284,PRO_LOAD_THREADS:832772100,RESTORE:832770348,SHARESHEET_SEND_TO_SENT:832770902});f["default"]=a}),66);
__d("IGDMqttIrisSubscriptionQPLLogger",["QuickPerformanceLogger","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){this.$1=0,this.$2=c("qpl")._(832768996,"2823")}var b=a.prototype;b.markerStart=function(){this.$1=d("Random").uint32(),(h||(h=c("QuickPerformanceLogger"))).markerStart(this.$2,this.$1,void 0,{timeoutMS:6e4})};b.markerAnnotate=function(a){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(this.$2,a,{instanceKey:this.$1})};b.markerPoint=function(a){(h||(h=c("QuickPerformanceLogger"))).markerPoint(this.$2,a,{instanceKey:this.$1})};b.markerEnd=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(this.$2,a,this.$1)};return a}();g.IGDMqttIrisSubscriptionQPLLogger=a}),98);
__d("IGDMqttIrisSubscriptionQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9476575619127164"}),null);
__d("IGDMqttIrisSubscriptionQuery.graphql",["IGDMqttIrisSubscriptionQuery_instagramRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"iris_seq_id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDMqttIrisSubscriptionQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDMqttIrisSubscriptionQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("IGDMqttIrisSubscriptionQuery_instagramRelayOperation"),metadata:{},name:"IGDMqttIrisSubscriptionQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("IGDMqttIrisSubscription",["$InternalEnum","CometRelay","FBLogger","IGDMqttBaseSubscription","IGDMqttIrisSubscriptionQPLLogger","IGDMqttIrisSubscriptionQuery.graphql","PolarisIsLoggedIn","asyncToGeneratorRuntime","emptyFunction","exponentialBackoff","isObject","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({UNKNOWN:0,ERROR_RESNAPSHOT:1,ERROR_RETRY:2}),j=h!==void 0?h:h=b("IGDMqttIrisSubscriptionQuery.graphql");a=function(a){function e(e,f,g,h,j,k){var l;l=a.call(this)||this;l.$IGDMqttIrisSubscription$p_8=null;l.$IGDMqttIrisSubscription$p_10=0;l.$IGDMqttIrisSubscription$p_11="/ig_sub_iris";l.$IGDMqttIrisSubscription$p_12="/ig_sub_iris_response";l.$IGDMqttIrisSubscription$p_13={onMessage:function(a){a===l.$IGDMqttIrisSubscription$p_12&&l.logODS("ig_sub_iris_response.messages_received")},onSubscribe:function(a){a===l.$IGDMqttIrisSubscription$p_12&&l.logODS("ig_sub_iris_response.subscribed")},onUnsubscribe:function(a){a===l.$IGDMqttIrisSubscription$p_12&&(l.logODS("ig_sub_iris_response.unsubscribed"),l.cleanup())}};l.$IGDMqttIrisSubscription$p_21=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;if(typeof a==="string"||a instanceof String)try{b=JSON.parse(a)}catch(d){c("FBLogger")("igd_web_mqtt").catching(d).mustfix("[IGDMqtt]: Could not parse sub iris response %s",a),b=d}else c("isObject")(a)?b=a:(c("FBLogger")("igd_web_mqtt").mustfix("[IGDMqtt]: Unknown sub iris response"),b={succeeded:!1});l.$IGDMqttIrisSubscription$p_6.markerPoint("ig_sub_iris_response_received_and_parsed");a=Boolean(b.succeeded);if(a===!0)l.$IGDMqttIrisSubscription$p_16();else{b=(a=b.error_type)!=null?a:i.UNKNOWN;yield l.$IGDMqttIrisSubscription$p_17(b)}});return function(b){return a.apply(this,arguments)}}();l.$IGDMqttIrisSubscription$p_1=e;l.$IGDMqttIrisSubscription$p_2=f;l.$IGDMqttIrisSubscription$p_4=h;l.$IGDMqttIrisSubscription$p_3=g;l.$IGDMqttIrisSubscription$p_9=k!=null?k:c("emptyFunction");l.$IGDMqttIrisSubscription$p_7=j;l.$IGDMqttIrisSubscription$p_6=new(d("IGDMqttIrisSubscriptionQPLLogger").IGDMqttIrisSubscriptionQPLLogger)();l.$IGDMqttIrisSubscription$p_5=c("exponentialBackoff")(function(a){return l.$IGDMqttIrisSubscription$p_14(a)});return l}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.$IGDMqttIrisSubscription$p_14=function(a){var b=this;this.logODS("ig_sub_iris.publish."+a);this.$IGDMqttIrisSubscription$p_6.markerPoint("ig_sub_iris.publish."+a);this.$IGDMqttIrisSubscription$p_10++;this.$IGDMqttIrisSubscription$p_6.markerAnnotate({"int":{subscription_attempt_count:this.$IGDMqttIrisSubscription$p_10}});var d=JSON.stringify(babelHelpers["extends"]({},this.$IGDMqttIrisSubscription$p_4,{graphql_config:JSON.stringify(this.$IGDMqttIrisSubscription$p_4.graphql_config),seq_id:this.$IGDMqttIrisSubscription$p_15(),snapshot_at_ms:Date.now()}));c("FBLogger")("igd_web_mqtt").debug("[IGDMqtt]: Publishing subscription config with Iris with %s",d);this.logODS("ig_sub_iris.publish_attempt");this.$IGDMqttIrisSubscription$p_3.publish(this.$IGDMqttIrisSubscription$p_11,d).then(function(){b.logODS("ig_sub_iris.publish_success"),b.$IGDMqttIrisSubscription$p_6.markerPoint("ig_sub_iris.publish_success")})["catch"](function(a){b.logODS("ig_sub_iris.publish_failed"),b.$IGDMqttIrisSubscription$p_6.markerPoint("ig_sub_iris.publish_failed"),c("FBLogger")("igd_web_mqtt").catching(a).mustfix("[IGDMqtt]: Failed to subscribe by publishing to ig_sub_iris with %s",d)})};f.$IGDMqttIrisSubscription$p_16=function(){this.logODS("ig_sub_iris_response.iris_connection_success"),this.$IGDMqttIrisSubscription$p_6.markerEnd(2),this.$IGDMqttIrisSubscription$p_5.reset()};f.$IGDMqttIrisSubscription$p_17=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){this.logODS("ig_sub_iris_response.iris_connection_failed");switch(a){case i.ERROR_RESNAPSHOT:yield this.$IGDMqttIrisSubscription$p_18();break;case i.ERROR_RETRY:this.$IGDMqttIrisSubscription$p_19();break;default:this.$IGDMqttIrisSubscription$p_20()}});function c(b){return a.apply(this,arguments)}return c}();f.$IGDMqttIrisSubscription$p_18=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.logODS("ig_sub_iris_response.iris_connection_error_type_resnapshot");this.$IGDMqttIrisSubscription$p_6.markerPoint("iris_connection_error_type_resnapshot");try{var a;this.$IGDMqttIrisSubscription$p_6.markerPoint("fetch_new_seq_id_start");var b=(yield d("CometRelay").fetchQuery(this.$IGDMqttIrisSubscription$p_2,j,{},{fetchPolicy:"network-only"}).toPromise());this.$IGDMqttIrisSubscription$p_6.markerPoint("fetch_new_seq_id_end");var e=this.$IGDMqttIrisSubscription$p_15();b=b==null||(a=b.viewer)==null||(a=a.user)==null?void 0:a.iris_seq_id;b!=null?(this.$IGDMqttIrisSubscription$p_6.markerPoint("non_null_seq_id_fetched"),b>e?(this.$IGDMqttIrisSubscription$p_7.updateSequenceID(b),this.$IGDMqttIrisSubscription$p_14("resnapshot_retry_new_seq_id_received"),this.$IGDMqttIrisSubscription$p_9(b)):this.$IGDMqttIrisSubscription$p_5("resnapshot_retry_old_seq_id_received")):this.$IGDMqttIrisSubscription$p_6.markerPoint("null_new_seq_id_fetched")}catch(a){c("FBLogger")("igd_web_mqtt").catching(a).mustfix("[IGDMqtt]: Failed to query for new seq id for resnapshot, retrying with backoff"),this.$IGDMqttIrisSubscription$p_5("resnapshot_seq_id_fetch_failed")}});function e(){return a.apply(this,arguments)}return e}();f.$IGDMqttIrisSubscription$p_19=function(){this.logODS("ig_sub_iris_response.iris_connection_error_type_retry"),this.$IGDMqttIrisSubscription$p_6.markerPoint("iris_connection_error_type_retry"),this.$IGDMqttIrisSubscription$p_5("retry")};f.$IGDMqttIrisSubscription$p_20=function(){this.logODS("ig_sub_iris_response.iris_connection_failed_unknown_error_type"),this.$IGDMqttIrisSubscription$p_6.markerPoint("iris_connection_failed_unknown_error_type"),this.$IGDMqttIrisSubscription$p_6.markerEnd(3)};f.$IGDMqttIrisSubscription$p_15=function(){var a=this.$IGDMqttIrisSubscription$p_7.getSequenceID();if(a==null){this.logODS("init_seq_id_tracker");this.$IGDMqttIrisSubscription$p_7.updateSequenceID(this.$IGDMqttIrisSubscription$p_1);return this.$IGDMqttIrisSubscription$p_1}return a};f.getModuleName=function(){return"IGDMqttIrisSubscription"};f.cleanup=function(){this.$IGDMqttIrisSubscription$p_10=0,this.subscriptionState="Unsubscribed",this.$IGDMqttIrisSubscription$p_3.removeHook(this.$IGDMqttIrisSubscription$p_13),this.$IGDMqttIrisSubscription$p_6.markerEnd(4)};f.subscribe=function(){var a=this;if(this.subscriptionState==="Subscribed")return;this.subscriptionState="Subscribing";this.$IGDMqttIrisSubscription$p_3.addHook(this.$IGDMqttIrisSubscription$p_13);this.$IGDMqttIrisSubscription$p_8=this.$IGDMqttIrisSubscription$p_3.subscribe(this.$IGDMqttIrisSubscription$p_12,function(b){return c("promiseDone")(a.$IGDMqttIrisSubscription$p_21(b))});this.$IGDMqttIrisSubscription$p_6.markerStart();this.$IGDMqttIrisSubscription$p_6.markerAnnotate({bool:{isLoggedIn:d("PolarisIsLoggedIn").isLoggedIn()}});this.$IGDMqttIrisSubscription$p_14("initial");this.subscriptionState="Subscribed";return function(){a.unsubscribe()}};f.unsubscribe=function(){var a;(a=this.$IGDMqttIrisSubscription$p_8)==null||a.call(this);this.cleanup()};return e}(c("IGDMqttBaseSubscription"));g.IRIS_SEQ_ID_QUERY=j;g.IGDMqttIrisSubscription=a}),98);
__d("IGDMqttMessageSyncSlideSubscription",["FBLogger","IGDMqttBaseSubscription","getErrorSafe","polarisArraySplitChunks","polarisForEachAsync","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,d){var e;e=a.call(this)||this;e.$IGDMqttMessageSyncSlideSubscription$p_2=20;e.$IGDMqttMessageSyncSlideSubscription$p_3=null;e.$IGDMqttMessageSyncSlideSubscription$p_4={onMessage:function(a){a===e.$IGDMqttMessageSyncSlideSubscription$p_5&&e.logODS("ig_message_sync.messages_received")},onSubscribe:function(a){a===e.$IGDMqttMessageSyncSlideSubscription$p_5&&e.logODS("ig_message_sync.subscribed")},onUnsubscribe:function(a){a===e.$IGDMqttMessageSyncSlideSubscription$p_5&&(e.logODS("ig_message_sync.unsubscribed"),e.cleanup())}};e.$IGDMqttMessageSyncSlideSubscription$p_5="/ig_message_sync";e.$IGDMqttMessageSyncSlideSubscription$p_7=function(a){var b=[];try{b=JSON.parse(a)}catch(a){e.logODS("ig_message_sync.json_parse_error"),c("FBLogger")("igd_web_mqtt").catching(c("getErrorSafe")(a)).mustfix("[IGDMqtt]: Couldn't parse mqttMessages")}if(!Array.isArray(b)){e.logODS("ig_message_sync.messages_not_array");c("FBLogger")("igd_web_mqtt").debug("[IGDMqtt]: Skipping non-array mqtt messages");return}e.logODS("ig_message_sync.messages_parsed");a=c("polarisArraySplitChunks")(b,e.$IGDMqttMessageSyncSlideSubscription$p_2);c("promiseDone")(c("polarisForEachAsync")(a,function(a){for(a of a){e.logODS("ig_message_sync.message_handling_attempt");try{e.$IGDMqttMessageSyncSlideSubscription$p_6(a.data),e.logODS("ig_message_sync.message_handled")}catch(a){e.logODS("ig_message_sync.message_handling_error"),c("FBLogger")("igd_web_mqtt").catching(c("getErrorSafe")(a)).mustfix("[IGDMqtt]: Couldn't handle slide message message")}}}))};e.$IGDMqttMessageSyncSlideSubscription$p_1=b;e.$IGDMqttMessageSyncSlideSubscription$p_6=d;return e}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.getModuleName=function(){return"IGDMqttMessageSyncSlideSubscription"};d.cleanup=function(){this.subscriptionState="Unsubscribed",this.$IGDMqttMessageSyncSlideSubscription$p_1.removeHook(this.$IGDMqttMessageSyncSlideSubscription$p_4)};d.subscribe=function(){var a=this;if(this.subscriptionState==="Subscribed")return;this.$IGDMqttMessageSyncSlideSubscription$p_1.addHook(this.$IGDMqttMessageSyncSlideSubscription$p_4);this.subscriptionState="Subscribing";this.$IGDMqttMessageSyncSlideSubscription$p_3=this.$IGDMqttMessageSyncSlideSubscription$p_1.subscribe(this.$IGDMqttMessageSyncSlideSubscription$p_5,this.$IGDMqttMessageSyncSlideSubscription$p_7);this.subscriptionState="Subscribed";return function(){a.unsubscribe()}};d.unsubscribe=function(){var a;(a=this.$IGDMqttMessageSyncSlideSubscription$p_3)==null||a.call(this);this.cleanup()};return b}(c("IGDMqttBaseSubscription"));g["default"]=a}),98);
__d("IGDMqttSetupWithSlideMailbox_SlideMailbox.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"IGDMqttSetupWithSlideMailbox_SlideMailbox",selections:[{alias:null,args:null,kind:"ScalarField",name:"iris_inactive_subscription_uq_seq_id",storageKey:null}],type:"SlideMailbox",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaHandlersReliabilityQPLLogger",["QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$1=c("qpl")._(482017281,"2918"),this.$2=a}a.handleResultOrError=function(a,b){a.success?a.value==="success"?b==null||b.markerEnd(2):a.value==="skip"?b==null||b.markerEnd(3376):a.value==="deferred"?b==null||b.markerPoint("deferred_result"):b==null||b.markerEnd(51):(b==null||b.markerAnnotation({bool:{has_error:!0},string:{client_reason:a.error}}),b==null||b.markerEnd(3))};var b=a.prototype;b.markerStart=function(){(h||(h=c("QuickPerformanceLogger"))).markerStart(this.$1,this.$2)};b.markerAnnotation=function(a){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(this.$1,a,{instanceKey:this.$2})};b.markerSlideMutationCommonAnnotations=function(a){this.markerAnnotation({string:{__typename:a.__typename,uq_seq_id:a.uq_seq_id}})};b.markGqlErrorMetadata=function(a){var b;this.markerAnnotation({"int":{gql_error_code:a.code},string:{gql_error_exception_class:(b=a.exception)==null?void 0:b["class"],gql_error_exception_message:(b=a.exception)==null?void 0:b.message},string_array:{gql_error_mids:a.mids,gql_error_path:(b=a.path)==null?void 0:b.map(function(a){return a.toString()})}})};b.markHandlerName=function(a){this.markerAnnotation({string:{handler_name:a}})};b.markerPoint=function(a){(h||(h=c("QuickPerformanceLogger"))).markerPoint(this.$1,a,{instanceKey:this.$2})};b.markerEnd=function(a){(h||(h=c("QuickPerformanceLogger"))).markerEnd(this.$1,a,this.$2)};return a}();g["default"]=a}),98);
__d("IGDSlideDeltaProcessorQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24079783211713821"}),null);
__d("IGDSlideDeltaProcessorQuery.graphql",["IGDSlideDeltaProcessorQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"serialized_iris_deltas"}],c=[{kind:"Variable",name:"serialized_iris_deltas",variableName:"serialized_iris_deltas"}],d={alias:null,args:null,kind:"ScalarField",name:"uq_seq_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"IGDSlideDeltaProcessorQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"slide_delta_processor",plural:!0,selections:[d,{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt"}],type:"SlideUQPPReadReceipt",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_read_receipt"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead"}],type:"SlideUQPPMarkRead",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_mark_read"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread"}],type:"SlideUQPPIGMarkThreadUnread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_ig_mark_thread_unread"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread"}],type:"SlideUQPPDeleteThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_delete_thread"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage"}],type:"SlideUQPPNewMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_new_message"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName"}],type:"SlideUQPPThreadName",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_thread_name"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage"}],type:"SlideUQPPThreadImage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_thread_image"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings"}],type:"SlideUQPPChangeMuteSettings",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_change_mute_settings"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread"}],type:"SlideUQPPParticipantLeftGroupThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_participant_left_group_thread"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread"}],type:"SlideUQPPParticipantsAddedToGroupThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_participants_added_to_group_thread"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation"}],type:"SlideUQPPGenericMapAdminsKeyMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_generic_map_admins_key_mutation"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation"}],type:"SlideUQPPIGDirectUserBlockMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_user_block"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation"}],type:"SlideUQPPIGDirectUserMessageBlockedMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_user_message_block"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation"}],type:"SlideUQPPIGDirectUserPseudoBlockMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_user_pseudo_block"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation"}],type:"SlideUQPPIGDirectUserRestrictMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_user_restrict"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname"}],type:"SlideUQPPEditNickname",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_edit_nickname"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting"}],type:"SlideUQPPEditNicknameSetting",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_edit_nickname_setting"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"IGDSlideDeltaProcessorQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"slide_delta_processor",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:"XFBSlideReadReceipt",kind:"LinkedField",name:"read_receipt",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"watermark_timestamp_ms",storageKey:null}],storageKey:null}],type:"SlideUQPPReadReceipt",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"read_timestamp_ms",storageKey:null}],type:"SlideUQPPMarkRead",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"marked_as_unread",storageKey:null}],type:"SlideUQPPIGMarkThreadUnread",abstractKey:null},{kind:"InlineFragment",selections:[e],type:"SlideUQPPDeleteThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null}],storageKey:null}],type:"SlideUQPPNewMessage",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null}],type:"SlideUQPPThreadName",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thread_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"SlideUQPPThreadImage",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"is_muted_now",storageKey:null}],type:"SlideUQPPChangeMuteSettings",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"actor_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_fbid",storageKey:null},{alias:null,args:null,concreteType:"SlideThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[f,g,{alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null}],storageKey:null},f],storageKey:null}],type:"SlideUQPPParticipantLeftGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SlideThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[f,g,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},f],storageKey:null}],type:"SlideUQPPParticipantsAddedToGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"admin_igids",storageKey:null}],type:"SlideUQPPGenericMapAdminsKeyMutation",abstractKey:null},{kind:"InlineFragment",selections:[h,{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserBlockMutation",abstractKey:null},{kind:"InlineFragment",selections:[h,{alias:null,args:null,kind:"ScalarField",name:"is_message_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserMessageBlockedMutation",abstractKey:null},{kind:"InlineFragment",selections:[h,{alias:null,args:null,kind:"ScalarField",name:"is_pseudo_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserPseudoBlockMutation",abstractKey:null},{kind:"InlineFragment",selections:[h,{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null}],type:"SlideUQPPIGDirectUserRestrictMutation",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_fbid_v2",storageKey:null},e],type:"SlideUQPPEditNickname",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname_setting",storageKey:null},h,e],type:"SlideUQPPEditNicknameSetting",abstractKey:null}],storageKey:null}]},params:{id:b("IGDSlideDeltaProcessorQuery_instagramRelayOperation"),metadata:{},name:"IGDSlideDeltaProcessorQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("IGDSlideDeltaChangeMuteSettingsHandlerUpdateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaChangeMuteSettingsHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_muted",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};e.exports=a}),null);
__d("IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_muted_now",storageKey:null}],type:"SlideUQPPChangeMuteSettings",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaChangeMuteSettingsHandler",["FBLogger","IGDSlideDeltaChangeMuteSettingsHandlerUpdateQuery.graphql","IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings.graphql");var j=i!==void 0?i:i=b("IGDSlideDeltaChangeMuteSettingsHandlerUpdateQuery.graphql");function a(a,b){var e=b.is_muted_now,f=b.thread_fbid;if(f==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaChangeMuteSettingsHandler: threadFbid is null");return d("WAResultOrError").makeError("missing_viewer_thread")}a.commitUpdate(function(a){var b;a=a.readUpdatableQuery(j,{thread_fbid:f});a=a.updatableData;((b=a.get_slide_thread)==null?void 0:b.as_ig_direct_thread)!=null&&(a.get_slide_thread.as_ig_direct_thread.is_muted=Boolean(e))});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],type:"SlideUQPPDeleteThread",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaDeleteThreadHandler",["CometRelay","CurrentUser","FBLogger","IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread.graphql","RelayFBConnectionHandler","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread.graphql");function a(a,b){var e=b.thread_fbid;if(e==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaDeleteThreadHandler: threadFbid is null");return d("WAResultOrError").makeError("missing_thread_fbid")}b=a.getStore().getSource().get("XFBIGDirectViewerThread:"+e);if(b==null)return d("WAResultOrError").makeResult("skip");a.commitUpdate(function(a){var b=c("CurrentUser").getEIMU();b=a.get("SlideMailbox:"+b);if(b!=null){b=d("RelayFBConnectionHandler").getAllConnectionsWithKey(a,b,"IGDThreadListOffMsys_SlideMailbox__threads_by_folder");var f="SlideThread:"+e;b==null||b.forEach(function(a){d("CometRelay").ConnectionHandler.deleteNode(a,f)});a["delete"](f)}});window.requestAnimationFrame(function(){a.commitUpdate(function(a){a["delete"]("XFBIGDirectViewerThread:"+e)})});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_fbid_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],type:"SlideUQPPEditNickname",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaEditNicknameMutationHandler",["FBLogger","IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname.graphql","WAResultOrError","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname.graphql");function a(a,b){var e=b.nickname,f=b.target_user_fbid_v2,g=b.thread_fbid;if(g==null){c("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaEditNicknameMutationHandler: igdThreadId is missing from payload");return d("WAResultOrError").makeError("missing_thread_fbid")}a.commitUpdate(function(a){var b=a.get("XFBIGDirectViewerThread:"+g);b=b==null?void 0:b.getLinkedRecords("nicknames");if(b==null)return;for(b of b.filter(Boolean))b.getValue("fbid_v2")===f&&(!c("isStringNullOrEmpty")(e)?b.setValue(e,"nickname"):a["delete"](b.getDataID()))});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],type:"SlideUQPPEditNicknameSetting",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaEditNicknameSettingMutationHandler",["FBLogger","IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting.graphql","WAResultOrError","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting.graphql");function a(a,b){var e=b.nickname_setting,f=b.thread_fbid,g=b.user_igid;if(f==null){c("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaEditNicknameSettingMutationHandler: igdThreadId is missing from payload");return d("WAResultOrError").makeError("missing_thread_fbid")}a.commitUpdate(function(a){a=a.get("XFBIGDirectViewerThread:"+f);a=a==null?void 0:a.getLinkedRecords("nicknames_setting");if(a==null)return;for(a of a.filter(Boolean))a.getValue("user_igid")===g&&(c("isStringNullOrEmpty")(e)||a.setValue(e,"nickname_setting"))});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_igids",storageKey:null}],type:"SlideUQPPGenericMapAdminsKeyMutation",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaGenericMapAdminsKeyMutationHandler",["FBLogger","IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation.graphql");function a(a,b){var e=b.admin_igids,f=b.thread_fbid;if(f==null){c("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaGenericMapAdminsKeyMutationHandler: igdThreadId is missing from payload");return d("WAResultOrError").makeError("missing_thread_fbid")}a.commitUpdate(function(a){a=a.get("XFBIGDirectViewerThread:"+f);a==null||a.setValue(e,"admin_user_ids")});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaIGMarkThreadUnreadHandlerUpdateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaIGMarkThreadUnreadHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marked_as_unread",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};e.exports=a}),null);
__d("IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marked_as_unread",storageKey:null}],type:"SlideUQPPIGMarkThreadUnread",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaIGMarkThreadUnreadHandler",["FBLogger","IGDSlideDeltaIGMarkThreadUnreadHandlerUpdateQuery.graphql","IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread.graphql");var j=i!==void 0?i:i=b("IGDSlideDeltaIGMarkThreadUnreadHandlerUpdateQuery.graphql");function a(a,b){var e=b.marked_as_unread,f=b.thread_fbid;if(f==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaIGMarkThreadUnreadHandler: threadFbid is null");return d("WAResultOrError").makeError("missing_viewer_thread")}a.commitUpdate(function(a){a=a.readUpdatableQuery(j,{thread_fbid:f});a=a.updatableData;a=(a=a.get_slide_thread)==null?void 0:a.as_ig_direct_thread;a!=null&&(a.marked_as_unread=e)});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_timestamp_ms",storageKey:null}],type:"SlideUQPPMarkRead",abstractKey:null};e.exports=a}),null);
__d("IGDSlideUpdateReadReceiptUpdateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideUpdateReadReceiptUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBSlideReadReceipt",kind:"LinkedField",name:"slide_read_receipts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"watermark_timestamp_ms",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};e.exports=a}),null);
__d("IGDSlideUpdateReadReceipt",["IGDSlideUpdateReadReceiptUpdateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("IGDSlideUpdateReadReceiptUpdateQuery.graphql");function a(a,b,c,d){a=a.readUpdatableQuery(i,{thread_fbid:b});b=a.updatableData;a=(b=(a=b.get_slide_thread)==null||(a=a.as_ig_direct_thread)==null?void 0:a.slide_read_receipts)!=null?b:[];a=a.filter(Boolean);if(a.length>0){b=a.find(function(a){return a.participant_fbid===c});b!=null&&(b.watermark_timestamp_ms=d)}}g["default"]=a}),98);
__d("IGDSlideDeltaMarkReadHandler",["CurrentUser","FBLogger","IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead.graphql","IGDSlideUpdateReadReceipt","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead.graphql");function a(a,b){var e=b.read_timestamp_ms,f=b.thread_fbid;if(f==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaMarkReadHandler: threadFbid is null");return d("WAResultOrError").makeError("missing_viewer_thread")}var g=c("CurrentUser").getEIMU();a.commitUpdate(function(a){c("IGDSlideUpdateReadReceipt")(a,f,g,e)});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideBumpThread",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.get("XFBIGDirectViewerThread:"+b);a==null||a.setValue(c,"last_activity_timestamp_ms")}f["default"]=a}),66);
__d("IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"uq_seq_id",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null}],storageKey:null}],type:"SlideUQPPNewMessage",abstractKey:null};e.exports=a}),null);
__d("IGDSlideFetchAndInsertIGDViewerThreadQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24758375953746845"}),null);
__d("IGDSlideFetchAndInsertIGDViewerThreadQuery.graphql",["IGDSlideFetchAndInsertIGDViewerThreadQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"min_uq_seq_id"},c={defaultValue:null,kind:"LocalArgument",name:"thread_fbid"},d=[{kind:"Variable",name:"min_uq_seq_id",variableName:"min_uq_seq_id"},{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],e={alias:null,args:null,kind:"ScalarField",name:"system_folder",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"IGDSlideFetchAndInsertIGDViewerThreadQuery",selections:[{alias:null,args:d,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[e,{args:null,kind:"FragmentSpread",name:"IGDThreadListItemOffMsys_IGDirectViewerThread"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"IGDSlideFetchAndInsertIGDViewerThreadQuery",selections:[{alias:null,args:d,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[e,{name:"client__is_unread",args:null,fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"marked_as_unread",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_activity_timestamp_ms",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReadReceipt",kind:"LinkedField",name:"slide_read_receipts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"watermark_timestamp_ms",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{name:"thread_title_fallback",args:null,fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBIGDirectPostProcessorNickname",kind:"LinkedField",name:"nicknames",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},g],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{kind:"ClientEdgeToClientObject",backingField:{name:"presence_info",args:null,fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null}],type:"XDTUserDict",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},linkedField:{alias:null,args:null,concreteType:"IGDPresenceInfo",kind:"LinkedField",name:"presence_info",plural:!1,selections:[{name:"status",args:null,fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__relay_model_instance",storageKey:null}],type:"IGDPresenceInfo",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0}],storageKey:null}}],storageKey:null},{alias:"usersWithoutViewer",args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_internal_user",storageKey:null},g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_image_url",storageKey:null},{alias:null,args:null,concreteType:"XFBIGDChannelCreatorBroadcastThreadData",kind:"LinkedField",name:"creator_broadcast_thread_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_creator_profile_picture_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_muted",storageKey:null},g],storageKey:null},g],storageKey:null}]},params:{id:b("IGDSlideFetchAndInsertIGDViewerThreadQuery_instagramRelayOperation"),metadata:{},name:"IGDSlideFetchAndInsertIGDViewerThreadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("IGDSlideFetchAndInsertIGDViewerThread",["CometRelay","CurrentUser","FBLogger","IGDSlideFetchAndInsertIGDViewerThreadQuery.graphql","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("IGDSlideFetchAndInsertIGDViewerThreadQuery.graphql");function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e={thread_fbid:b};b=(yield d("CometRelay").fetchQuery(a,i,e).toPromise().then(function(a){return d("WAResultOrError").makeResult(a)})["catch"](function(a){return d("WAResultOrError").makeError(c("getErrorSafe")(a))}));if(b.success===!1){c("FBLogger")("igd_web").catching(b.error).warn("IGD fetch thread failed");return d("WAResultOrError").makeError("thread_fetch_failed")}var f=(b=b.value)==null||(b=b.get_slide_thread)==null?void 0:b.as_ig_direct_thread;if(f==null){c("FBLogger")("igd_web").warn("Thread thread succeeded but is null");return d("WAResultOrError").makeError("fetched_thread_is_null")}b=d("WAResultOrError").makeResult("success");a.commitUpdate(function(a){var g=a.getRoot().getLinkedRecord("get_slide_thread",e);if(g!=null){var h=c("CurrentUser").getEIMU();h=a.get("SlideMailbox:"+h);if(h==null){b=d("WAResultOrError").makeResult("skip");c("FBLogger")("igd_web").warn("Skip: IGD fetch thread mailbox record is null");return}h=d("CometRelay").ConnectionHandler.getConnection(h,"IGDThreadListOffMsys_SlideMailbox__threads_by_folder",{folder:f.system_folder});if(h==null){b=d("WAResultOrError").makeResult("skip");c("FBLogger")("igd_web").warn("Skip: Inbox connection record is null");return}a=d("CometRelay").ConnectionHandler.createEdge(a,h,g,"SlideMailboxThreadsByFolderEdge");d("CometRelay").ConnectionHandler.insertEdgeAfter(h,a)}});return b});return j.apply(this,arguments)}g["default"]=a}),98);
__d("IGDSlideDeltaNewMessageHandler",["FBLogger","IGDSlideBumpThread","IGDSlideDeltaHandlersReliabilityQPLLogger","IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage.graphql","IGDSlideFetchAndInsertIGDViewerThread","IGDSlideUpdateReadReceipt","WAResultOrError","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage.graphql");function i(a,b){a.commitUpdate(function(a){c("IGDSlideBumpThread")(a,b.thread_fbid,b.timestamp_ms),c("IGDSlideUpdateReadReceipt")(a,b.thread_fbid,b.sender_fbid,b.timestamp_ms)})}function a(a,b,e){b=b.message;if(b==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaNewMessageHandler: message is null");return d("WAResultOrError").makeResult("skip")}var f=b.thread_fbid,g=a.getStore().getSource().get("XFBIGDirectViewerThread:"+f);if(g!=null){i(a,b);return d("WAResultOrError").makeResult("success")}c("promiseDone")(c("IGDSlideFetchAndInsertIGDViewerThread")(a,f),function(a){return c("IGDSlideDeltaHandlersReliabilityQPLLogger").handleResultOrError(a,e)});return d("WAResultOrError").makeResult("deferred")}g["default"]=a}),98);
__d("IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_fbid",storageKey:null},{alias:null,args:null,concreteType:"SlideThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null}],storageKey:null}],storageKey:null}],type:"SlideUQPPParticipantLeftGroupThread",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaParticipantLeftGroupThreadHandler",["IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread.graphql");function a(a,b){var c=b.actor_fbid,e=b.left_participant_fbid,f=b.thread;b=b.viewer_fbid;var g=f==null?void 0:f.as_ig_direct_thread,h=g==null?void 0:g.id;if(g==null||h==null)return d("WAResultOrError").makeResult("skip");if(c===e&&c===b){a.commitUpdate(function(a){a["delete"]("XFBIGDirectViewerThread:"+h)});return d("WAResultOrError").makeResult("success")}a.commitUpdate(function(a){a=a.get("XFBIGDirectViewerThread:"+h);var b=a==null?void 0:a.getLinkedRecords("users");if(Array.isArray(b)){b=(b=b==null?void 0:b.filter(function(a){return(a==null?void 0:a.getValue("interop_messaging_user_fbid"))!==e}))!=null?b:[];a==null||a.setLinkedRecords(b,"users")}a==null||a.setValue(g.thread_title,"thread_title");a==null||a.setValue(g.input_mode,"input_mode")});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30819027211044776"}),null);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery.graphql",["IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],c=[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery",selections:[{alias:null,args:c,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery",selections:[{alias:null,args:c,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[e,d],storageKey:null}]},params:{id:b("IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery_instagramRelayOperation"),metadata:{},name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"SlideThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"SlideUQPPParticipantsAddedToGroupThread",abstractKey:null}}();e.exports=a}),null);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null}}();e.exports=a}),null);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandler",["IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery.graphql","IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread.graphql","IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread.graphql","WAResultOrError","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;h!==void 0?h:h=b("IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread.graphql");i!==void 0?i:i=b("IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread.graphql");function a(a,c){c=c.thread;c=c==null?void 0:c.as_ig_direct_thread;var e=c==null?void 0:c.id;if(c==null)return d("WAResultOrError").makeResult("skip");var f=d("relay-runtime").createOperationDescriptor(j!==void 0?j:j=b("IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery.graphql"),{thread_fbid:e});c={get_slide_thread:{as_ig_direct_thread:c,id:e}};a.commitPayload(f,c);return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReadReceipt",kind:"LinkedField",name:"read_receipt",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"watermark_timestamp_ms",storageKey:null}],storageKey:null}],type:"SlideUQPPReadReceipt",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaReadReceiptHandler",["FBLogger","IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt.graphql","IGDSlideUpdateReadReceipt","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt.graphql");function a(a,b){var e=b.read_receipt,f=b.thread_fbid;if(f==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaReadReceiptHandler: threadFbid is null");return d("WAResultOrError").makeError("missing_viewer_thread")}if(e==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaReadReceiptHandler: readReceipt is null");return d("WAResultOrError").makeError("missing_read_receipt")}var g=e.participant_fbid,h=e.watermark_timestamp_ms;if(g==null||h==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaReadReceiptHandler: required read receipt fields are null");return d("WAResultOrError").makeError("missing_read_receipt_fields")}a.commitUpdate(function(a){c("IGDSlideUpdateReadReceipt")(a,f,g,h)});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaThreadImageHandlerUpdateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadImageHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_image_url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};e.exports=a}),null);
__d("IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thread_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"SlideUQPPThreadImage",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaThreadImageHandler",["FBLogger","IGDSlideDeltaThreadImageHandlerUpdateQuery.graphql","IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage.graphql");var j=i!==void 0?i:i=b("IGDSlideDeltaThreadImageHandlerUpdateQuery.graphql");function a(a,b){var e=b.thread_fbid,f=b.thread_image;if(e==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaThreadImageHandler: threadFbid is null");return d("WAResultOrError").makeError("missing_viewer_thread")}a.commitUpdate(function(a){var b;a=a.readUpdatableQuery(j,{thread_fbid:e});a=a.updatableData;((b=a.get_slide_thread)==null?void 0:b.as_ig_direct_thread)!=null&&(a.get_slide_thread.as_ig_direct_thread.thread_image_url=f==null?void 0:f.uri)});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideDeltaThreadNameHandlerUpdateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadNameHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};e.exports=a}),null);
__d("IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null}],type:"SlideUQPPThreadName",abstractKey:null};e.exports=a}),null);
__d("IGDSlideDeltaThreadNameHandler",["FBLogger","IGDSlideDeltaThreadNameHandlerUpdateQuery.graphql","IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName.graphql");var j=i!==void 0?i:i=b("IGDSlideDeltaThreadNameHandlerUpdateQuery.graphql");function a(a,b){var e=b.thread_fbid,f=b.thread_name;if(e==null){c("FBLogger")("igd_web").debug("IGDSlideDeltaThreadNameHandler: threadFbid is null");return d("WAResultOrError").makeError("missing_viewer_thread")}a.commitUpdate(function(a){var b;a=a.readUpdatableQuery(j,{thread_fbid:e});a=a.updatableData;((b=a.get_slide_thread)==null?void 0:b.as_ig_direct_thread)!=null&&(f!=null&&(a.get_slide_thread.as_ig_direct_thread.thread_title=f))});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserBlockMutation",abstractKey:null};e.exports=a}),null);
__d("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler",["FBLogger","IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation.graphql");function a(a,b){var e=b.is_blocked,f=b.user_igid;if(f==null){c("FBLogger")("igd_web").debug("IGDSlideNonPersistedPayloadIGDirectUserBlockHandler: user igid is missing from payload");return d("WAResultOrError").makeError("missing_user_igid")}a.commitUpdate(function(a){var b="XDTUserDict:"+f;a=a.get(b);if(a!=null){b=a.getLinkedRecord("friendship_status");b==null||b.setValue(e,"blocking")}});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_message_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserMessageBlockedMutation",abstractKey:null};e.exports=a}),null);
__d("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler",["FBLogger","IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation.graphql");function a(a,b){var e=b.is_message_blocked,f=b.user_igid;if(f==null){c("FBLogger")("igd_web").debug("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler: user igid is missing from payload");return d("WAResultOrError").makeError("missing_user_igid")}a.commitUpdate(function(a){var b="XDTUserDict:"+f;a=a.get(b);if(a!=null){b=a.getLinkedRecord("friendship_status");b==null||b.setValue(e,"is_messaging_only_blocking")}});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_pseudo_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserPseudoBlockMutation",abstractKey:null};e.exports=a}),null);
__d("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler",["FBLogger","IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation.graphql");function a(a,b){var e=b.is_pseudo_blocked,f=b.user_igid;if(f==null){c("FBLogger")("igd_web").debug("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler: user igid is missing from payload");return d("WAResultOrError").makeError("missing_user_igid")}a.commitUpdate(function(a){var b="XDTUserDict:"+f;a=a.get(b);if(a!=null){b=a.getLinkedRecord("friendship_status");b==null||b.setValue(e,"is_messaging_pseudo_blocking")}});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{mask:!1},name:"IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null}],type:"SlideUQPPIGDirectUserRestrictMutation",abstractKey:null};e.exports=a}),null);
__d("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler",["FBLogger","IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation.graphql","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;h!==void 0?h:h=b("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation.graphql");function a(a,b){var e=b.is_restricted,f=b.user_igid;if(f==null){c("FBLogger")("igd_web").debug("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler: user igid is missing from payload");return d("WAResultOrError").makeError("missing_user_igid")}a.commitUpdate(function(a){var b="XDTUserDict:"+f;a=a.get(b);if(a!=null){b=a.getLinkedRecord("friendship_status");b==null||b.setValue(e,"is_restricted")}});return d("WAResultOrError").makeResult("success")}g["default"]=a}),98);
__d("IGDSlideMutationProcessor",["FBLogger","IGDSlideDeltaChangeMuteSettingsHandler","IGDSlideDeltaDeleteThreadHandler","IGDSlideDeltaEditNicknameMutationHandler","IGDSlideDeltaEditNicknameSettingMutationHandler","IGDSlideDeltaGenericMapAdminsKeyMutationHandler","IGDSlideDeltaIGMarkThreadUnreadHandler","IGDSlideDeltaMarkReadHandler","IGDSlideDeltaNewMessageHandler","IGDSlideDeltaParticipantLeftGroupThreadHandler","IGDSlideDeltaParticipantsAddedToGroupThreadHandler","IGDSlideDeltaReadReceiptHandler","IGDSlideDeltaThreadImageHandler","IGDSlideDeltaThreadNameHandler","IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler","IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler","IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler","IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler","WAResultOrError","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){try{switch(b.__typename){case"SlideUQPPReadReceipt":e.markHandlerName("SlideUQPPReadReceipt");return c("IGDSlideDeltaReadReceiptHandler")(a,b);case"SlideUQPPMarkRead":e.markHandlerName("IGDSlideDeltaMarkReadHandler");return c("IGDSlideDeltaMarkReadHandler")(a,b);case"SlideUQPPIGMarkThreadUnread":e.markHandlerName("IGDSlideDeltaIGMarkThreadUnreadHandler");return c("IGDSlideDeltaIGMarkThreadUnreadHandler")(a,b);case"SlideUQPPDeleteThread":e.markHandlerName("IGDSlideDeltaDeleteThreadHandler");return c("IGDSlideDeltaDeleteThreadHandler")(a,b);case"SlideUQPPNewMessage":e.markHandlerName("IGDSlideDeltaNewMessageHandler");return c("IGDSlideDeltaNewMessageHandler")(a,b,e);case"SlideUQPPThreadName":e.markHandlerName("IGDSlideUQPPThreadNameHandler");return c("IGDSlideDeltaThreadNameHandler")(a,b);case"SlideUQPPThreadImage":e.markHandlerName("IGDSlideUQPPThreadImageHandler");return c("IGDSlideDeltaThreadImageHandler")(a,b);case"SlideUQPPChangeMuteSettings":e.markHandlerName("IGDSlideDeltaChangeMuteSettingsHandler");return c("IGDSlideDeltaChangeMuteSettingsHandler")(a,b);case"SlideUQPPParticipantsAddedToGroupThread":e.markHandlerName("IGDSlideDeltaParticipantsAddedToGroupThreadHandler");return c("IGDSlideDeltaParticipantsAddedToGroupThreadHandler")(a,b);case"SlideUQPPParticipantLeftGroupThread":e.markHandlerName("IGDSlideDeltaParticipantLeftGroupThreadHandler");return c("IGDSlideDeltaParticipantLeftGroupThreadHandler")(a,b);case"SlideUQPPGenericMapAdminsKeyMutation":e.markHandlerName("IGDSlideDeltaGenericMapAdminsKeyMutationHandler");return c("IGDSlideDeltaGenericMapAdminsKeyMutationHandler")(a,b);case"SlideUQPPIGDirectUserBlockMutation":e.markHandlerName("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler");return c("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler")(a,b);case"SlideUQPPIGDirectUserMessageBlockedMutation":e.markHandlerName("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler");return c("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler")(a,b);case"SlideUQPPIGDirectUserPseudoBlockMutation":e.markHandlerName("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler");return c("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler")(a,b);case"SlideUQPPIGDirectUserRestrictMutation":e.markHandlerName("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler");return c("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler")(a,b);case"SlideUQPPEditNickname":e.markHandlerName("IGDSlideDeltaEditNicknameMutationHandler");return c("IGDSlideDeltaEditNicknameMutationHandler")(a,b);case"SlideUQPPEditNicknameSetting":e.markHandlerName("IGDSlideDeltaEditNicknameSettingMutationHandler");return c("IGDSlideDeltaEditNicknameSettingMutationHandler")(a,b);default:e.markHandlerName("unknown");return d("WAResultOrError").makeResult("skip")}}catch(b){a=c("getErrorSafe")(b);c("FBLogger")("igd_web").catching(a).mustfix("IGDSlideMutationProcessor: Unknown error has occurred");return d("WAResultOrError").makeError("unknown_error")}}g["default"]=a}),98);
__d("IGDSlideDeltaProcessor",["FBLogger","IGDSlideDeltaHandlersReliabilityQPLLogger","IGDSlideDeltaProcessorQuery.graphql","IGDSlideMutationProcessor","IGDUqppSequenceIDTrackerSingleton","Random"],(function(a,b,c,d,e,f,g){"use strict";var h;e="24079783211713821";h!==void 0?h:h=b("IGDSlideDeltaProcessorQuery.graphql");function a(a,b){b=b.slide_delta_processor;for(b of b){var e=c("IGDUqppSequenceIDTrackerSingleton").getSequenceID(),f=Number(b.uq_seq_id),g=Number(b.uq_seq_id)+d("Random").uint32();g=new(c("IGDSlideDeltaHandlersReliabilityQPLLogger"))(g);g.markerStart();if(e!=null&&f<e){c("FBLogger")("igd_web_mqtt").debug("[IGDMqtt]: Message skipped, old id received. Current: %s | New: %s",e,f);g.markerEnd(3376);continue}c("IGDUqppSequenceIDTrackerSingleton").updateSequenceID(f);e=c("IGDSlideMutationProcessor")(a,b,g);c("IGDSlideDeltaHandlersReliabilityQPLLogger").handleResultOrError(e,g)}}g.slide_doc_id=e;g.IGDSlideDeltaProcessor=a}),98);
__d("useIGDMqttChannelState",["IGDMqttChannel","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useSyncExternalStore;function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("IGDMqttChannel").getIGDMqttChannel(),a[0]=b):b=a[0];var c=b,e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(a){return c.subscribeChannelEvents({onMQTTStateChanged:a})},e=function(){return c.getConnectionState()},a[1]=b,a[2]=e):(b=a[1],e=a[2]);return i(b,e,j)}function j(){return"Disconnected"}g["default"]=a}),98);
__d("useIGDIrisSubscriptionForSlide",["CometRelay","IGDMqttChannel","IGDMqttIrisSubscription","IGDMqttMessageSyncSlideSubscription","IGDSlideDeltaProcessor","IGDUqppSequenceIDTrackerSingleton","react","react-compiler-runtime","useIGDMqttChannelState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(9),e=c("useIGDMqttChannelState")(),f=d("IGDMqttChannel").getIGDMqttChannel(),g=d("CometRelay").useRelayEnvironment(),h;b[0]!==g?(h=function(a){return d("IGDSlideDeltaProcessor").IGDSlideDeltaProcessor(g,a)},b[0]=g,b[1]=h):h=b[1];var l=j(new(c("IGDMqttMessageSyncSlideSubscription"))(f,h));b[2]!==g?(h=function(){g.commitUpdate(k)},b[2]=g,b[3]=h):h=b[3];h=h;var m=j(new(d("IGDMqttIrisSubscription").IGDMqttIrisSubscription)(a,g,f,{graphql_config:{slide_doc_id:d("IGDSlideDeltaProcessor").slide_doc_id},snapshot_app_version:"web",snapshot_at_ms:Date.now(),subscription_type:"slide_gql"},c("IGDUqppSequenceIDTrackerSingleton"),h));b[4]!==l||b[5]!==e?(a=function(){switch(e){case"Connected":var a=l.current.subscribe(),b=m.current.subscribe();return function(){a==null||a(),b==null||b()};case"Disconnected":m.current.unsubscribe(),l.current.unsubscribe()}},b[4]=l,b[5]=e,b[6]=a):a=b[6];b[7]!==e?(f=[e],b[7]=e,b[8]=f):f=b[8];i(a,f)}function k(a){return a.invalidateStore()}g["default"]=a}),98);
__d("IGDMqttSetupWithSlideMailbox.react",["CometPlaceholder.react","CometRelay","FBLogger","HeroInteractionIgnoreWithDiv.react","IGDMqttSetupWithSlideMailbox_SlideMailbox.graphql","react","react-compiler-runtime","useIGDIrisSubscriptionForSlide"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react");function k(a){a=a.mailboxRef;a=d("CometRelay").useFragment(h!==void 0?h:h=b("IGDMqttSetupWithSlideMailbox_SlideMailbox.graphql"),a);a=(a=parseInt(a.iris_inactive_subscription_uq_seq_id,10))!=null?a:0;c("useIGDIrisSubscriptionForSlide")(a);return null}function a(a){var b=d("react-compiler-runtime").c(2);a=a.mailboxRef;if(a==null){c("FBLogger")("igd_web").mustfix("IGDMqttSetup: mailboxRef is null");return null}var e;b[0]!==a?(e=j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,{mailboxRef:a})})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("LSMarkBumpedThreadsSeen",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.islc(c.filter(c.db.table(9).fetchDesc([[[a[0]]],"secondaryParentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.secondaryParentThreadKey,a[0])&&[c.i64.cast([0,18]),c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,27])].some(function(a){return c.i64.eq(b.threadType,a)})}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[0]=f.lastActivityTimestampMs,c.i64.gt(d[0],c.i64.cast([0,0]))?c.db.table(35).fetch([[[a[0]]]]).next().then(function(f,h){var e=f.done;f=f.value;return e?c.sequence([function(b){return c.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:d[0]})},function(e){return d[2]=new c.Map(),d[2].set("parent_thread_key",a[0]),d[2].set("last_seen_time_ms",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[3])}]):(h=f.item,c.i64.lt(h.lastSeenRequestTimestampMs,d[0])?c.sequence([function(b){return c.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:d[0]})},function(e){return d[2]=new c.Map(),d[2].set("parent_thread_key",a[0]),d[2].set("last_seen_time_ms",d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[3])}]):c.resolve())}):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMarkBumpedThreadsSeenStoredProcedure";a.__tables__=["threads","folder_metadata"];e.exports=a}),null);
__d("LSMarkBumpedThreadsSeenStoredProcedure",["LSMarkBumpedThreadsSeen","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMarkBumpedThreadsSeen"),e.secondaryParentThreadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMarkFolderSeen",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=void 0:(b=a.item,d[0]=b.threadType)})},function(e){return c.i64.eq(d[0],c.i64.cast([0,17]))?c.sequence([function(b){return d[2]=c.i64.of_float(Date.now()),c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:d[2]})})},function(e){return d[3]=c.i64.of_float(Date.now()),c.i64.gt(d[3],c.i64.cast([0,0]))?c.db.table(35).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return c.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:d[3]})},function(e){return d[6]=new c.Map(),d[6].set("parent_thread_key",a[0]),d[6].set("last_seen_time_ms",d[3]),d[7]=c.toJSON(d[6]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[7])}]):(f=e.item,c.i64.lt(f.lastSeenRequestTimestampMs,d[3])?c.sequence([function(b){return c.forEach(c.db.table(35).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSeenRequestTimestampMs:d[3]})})},function(e){return d[6]=new c.Map(),d[6].set("parent_thread_key",a[0]),d[6].set("last_seen_time_ms",d[3]),d[7]=c.toJSON(d[6]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[7])}]):c.resolve())}):c.resolve()},function(b){return d[4]=c.i64.of_float(Date.now()),c.forEach(c.db.table(162).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({readTimestampMs:d[4]})})}]):c.sequence([function(b){return c.islc(c.sortBy(c.filter(c.db.table(276).fetch(),function(b){return c.i64.eq(b.folderType,a[0])}),[["lastActivityAuthoritativeTsMs","DESC"]]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([0,0]):(b=a.item,d[8]=b.lastActivityAuthoritativeTsMs,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,0]),d[2]=d[7])})},function(b){return c.islc(c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=c.i64.cast([0,0]):(b=a.item,d[8]=b.lastActivityTimestampMs,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,0]),d[4]=d[7])})},function(e){return d[6]=c.i64.gt(d[2],d[4])?d[2]:d[4],c.i64.gt(d[6],c.i64.cast([0,0]))?c.db.table(35).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return c.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:d[6]})},function(e){return d[8]=new c.Map(),d[8].set("parent_thread_key",a[0]),d[8].set("last_seen_time_ms",d[6]),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[9])}]):(f=e.item,c.i64.lt(f.lastSeenRequestTimestampMs,d[6])?c.sequence([function(b){return c.forEach(c.db.table(35).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSeenRequestTimestampMs:d[6]})})},function(e){return d[8]=new c.Map(),d[8].set("parent_thread_key",a[0]),d[8].set("last_seen_time_ms",d[6]),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[9])}]):c.resolve())}):c.resolve()}])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMarkFolderSeenStoredProcedure";a.__tables__=["threads","folder_metadata","community_folders","client_threads"];e.exports=a}),null);
__d("LSMarkFolderSeenStoredProcedure",["LSMarkFolderSeen","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMarkFolderSeen"),e.parentThreadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWCMMarkBumpedThreadsSeen",["LSFactory","LSMarkBumpedThreadsSeenStoredProcedure","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a!=null&&(yield c("LSMarkBumpedThreadsSeenStoredProcedure")(c("LSFactory")(b),{secondaryParentThreadKey:a}))});return h.apply(this,arguments)}g.MWCMMarkBumpedThreadsSeen=a}),98);
__d("MWPMarkSeenDeferred",["LSFactory","LSMarkFolderSeenStoredProcedure","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a!=null&&(yield c("LSMarkFolderSeenStoredProcedure")(c("LSFactory")(b),{parentThreadKey:a}))});return h.apply(this,arguments)}g.markSeen=a}),98);