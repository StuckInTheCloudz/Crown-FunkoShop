;/*FB_PKG_DELIM*/

__d("IGDChatTabsAvatar.react",["IGDAvatar.react","react","usePresenceUnifiedIsThreadActive"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.size,d=a.thread,e=c("usePresenceUnifiedIsThreadActive")(d.threadKey);return j(function(){return i.jsx(c("IGDAvatar.react"),{groupThreadSize:"tiny",isActive:e===!0,size:b!=null?b:"small",thread:d})},[e,b,d])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatTabsThreadContainer_SlideThread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDChatTabsThreadContainer_SlideThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"SlideThread",abstractKey:null};e.exports=a}),null);
__d("IGDChatTabsThreadHeaderContainer.react",["I64","IGDChatTabsAvatar.react","IGDChatTabsHeader.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDNavigation","IGDProfileLinkOrFragment.react","IGDSBox.react","IGDThreadTitleAndPresence.react","LSMessagingThreadTypeUtil","react","useIGDChatTabsEntrypointUrl.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useCallback;function a(a){var b=a.thread,e=d("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),f=c("useIGDChatTabsEntrypointUrl.react")();a=k(function(){e==null||e({threadKey:(i||(i=d("I64"))).to_string(b.threadKey),type:"close_tab"})},[e,b.threadKey]);var g=d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType),h=d("IGDNavigation").useIGDNavigation(),l=k(function(){h.openInbox({threadKey:b.threadKey,threadType:b.threadType},"igdChatTabsThreadView",void 0,void 0,void 0,f)},[f,h,b.threadKey,b.threadType]),m=k(function(){e==null||e({threadKey:(i||(i=d("I64"))).to_string(b.threadKey),type:"close_tab"}),e==null||e({type:"open_view",view:d("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView})},[e,b.threadKey]);g=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[g?j.jsx(c("IGDProfileLinkOrFragment.react"),{thread:b,children:j.jsx(c("IGDChatTabsAvatar.react"),{thread:b})}):j.jsx(c("IGDChatTabsAvatar.react"),{thread:b}),j.jsx(c("IGDSBox.react"),{marginStart:3,maxWidth:168,children:j.jsx(c("IGDThreadTitleAndPresence.react"),{isMobile:!1,thread:b})})]});return j.jsx(c("IGDChatTabsHeader.react"),{headerContent:g,headerType:"thread_view",onClose:a,onExpand:l,onGoBack:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDChatTabsThreadViewAvoidParentScroll.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=i(function(b){if(a==null||a.current==null)return;var c=a.current.getScrollAreaElement();if(c instanceof HTMLElement){var d=c.scrollTop,e=c.scrollHeight;c=c.getBoundingClientRect().height;var f=b.deltaY;f=f<0;var g=function(a){a.stopPropagation(),a.preventDefault()};if(!f&&c+1>=e-d)return g(b);else if(f&&d===0)return g(b)}},[a]);j(function(){if(a==null||a.current==null)return;var c=a.current.getScrollAreaElement();c==null||c.addEventListener("wheel",b);return function(){c==null||c.removeEventListener("wheel",b)}},[b,a])}g["default"]=a}),98);
__d("IGDChatTabsThreadDetail.react",["CometPlaceholder.react","IGDBlockedBroadcastThreadDetail.react","IGDChatTabsThreadHeaderContainer.react","IGDComposerCommon.react","IGDConnectionStatusCard.react","IGDInteractionTraceAnnotations","IGDMessageRequestComposerBannerLoading.react","IGDNewMessageAnnouncementForScreenReaders.react","IGDOpenMessageListContainer.react","IGDSBox.react","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWChatFocusComposerContext","MWLSDatabaseLazySync","MWPReplyContext.react","MWV2FileDropzone.react","WebUXLoggingSurfaceContextProvider","asyncToGeneratorRuntime","cr:10749","cr:1365","cr:7273","cr:8899","deferredLoadComponent","promiseDone","react","requireDeferred","requireDeferredForDisplay","useIGDBroadcastChannelOpenThreadLogger","useIGDChatTabsThreadViewAvoidParentScroll.react","useIGDIsViewerAdmin","useMWAriaLabelForThread","useShouldShowTextOnlyComposerForInvite"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useRef,o=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("IGDChatTabsThreadDetail.react"),p=(e=b("cr:7273"))!=null?e:b("cr:10749"),q=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDChatTabsThreadDetail.react")),r={main:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function s(a){a=a.thread;var e=l(d("MWPReplyContext.react").MWPReplyContext);e=e.reply;d("IGDInteractionTraceAnnotations").useAddThreadAnnotationToInteractionTraces(a);c("useIGDBroadcastChannelOpenThreadLogger")(a);b("cr:8899")(a);var f=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),g=c("useMWAriaLabelForThread")(a),h=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),s=n(null),t=k(function(){var a;(a=s.current)==null||a.jumpToMostRecentMessage()},[]),u=j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("IGDMessageRequestComposerBannerLoading.react"),{}),children:j.jsx(q,{thread:a})});t=j.jsx(c("IGDComposerCommon.react"),{afterSendMessage:t,thread:a});var v=d("LSThreadBitOffset").has(139,a);m(function(){if(v){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield o.load());a=(yield a());return d("MWLSDatabaseLazySync").sync(a,(i||(i=d("LSIntEnum"))).ofNumber(118))});return function(){return a.apply(this,arguments)}}();c("promiseDone")(a())}},[v]);var w=n(null),x=c("useShouldShowTextOnlyComposerForInvite")(a.threadKey,a.threadType);c("useIGDChatTabsThreadViewAvoidParentScroll.react")(s);return j.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:j.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view",children:[p&&j.jsx(p,{thread:a}),j.jsx(c("IGDChatTabsThreadHeaderContainer.react"),{thread:a}),j.jsx(c("IGDSBox.react"),{accessibilityLabel:g,containerRef:w,"data-testid":void 0,direction:"row",flex:"grow",children:j.jsxs(c("IGDSBox.react"),{flex:"grow",xstyle:r.main,children:[j.jsx(c("IGDConnectionStatusCard.react"),{}),j.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:x||e!=null,isMediaOnly:!d("LSThreadBitOffset").has(56,a),thread:a,children:[j.jsx(c("IGDOpenMessageListContainer.react"),{ref:s,thread:a}),f&&b("cr:1365")!=null?j.jsx(b("cr:1365"),{thread:a}):null,h?u:t]})]})}),j.jsx(c("IGDNewMessageAnnouncementForScreenReaders.react"),{thread:a})]})})}s.displayName=s.name+" [from "+f.id+"]";function a(a){a=a.thread;var b=c("useIGDIsViewerAdmin")(a.threadKey),e=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype);return e&&!b?j.jsx(c("IGDBlockedBroadcastThreadDetail.react"),{thread:a}):j.jsx(s,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatTabsThreadViewNullState.react",["IGDChatTabsHeader.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDNullState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useCallback;function a(){var a=d("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),b=k(function(){a==null||a({type:"reset_state"})},[a]),e=k(function(){a==null||a({type:"reset_state"}),a==null||a({type:"open_view",view:d("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView})},[a]);return j.jsxs(j.Fragment,{children:[j.jsx(c("IGDChatTabsHeader.react"),{headerType:"thread_view_null_state",onClose:b,onGoBack:e}),j.jsx(c("IGDNullState.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDChatTabsThreadContainer.react",["CometRelay","I64","IGDChatTabsThreadContainer_SlideThread.graphql","IGDChatTabsThreadDetail.react","IGDChatTabsThreadViewNullState.react","IGDThreadDetailContextWrapper.react","LSFactory","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","ReQL","ReQLSuspense","promiseDone","react","useReStore","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.memo,n=e.useCallback,o=e.useEffect;function a(a){var e=a.slideThreadRef;a=a.threadKey;var g=d("useStableValue").useStableI64(a),k=(i||(i=c("useReStore")))(),m=n(function(a){return k.runInTransaction(function(b){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(b),{syncGroup:(j||(j=d("I64"))).of_int32(1),threadKey:a})},"readwrite",void 0,void 0,f.id+":43")},[k]);o(function(){c("promiseDone")(m(g))},[g,m]);a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.threads,["consistentThreadFbid","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadSubtype","threadType","threadName","parentThreadKey","folderName","inviterId","snippetSenderContactId","memberCount","pauseThreadTimestamp","authorityLevel","threadStatus","eventStartTimestampMs","cannotReplyReason","themeFbid","isHidden","cannotUnsendReason","metadata","ongoingCallTimestampMs"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(g)},[k,g],f.id+":56");d("CometRelay").useFragment(h!==void 0?h:h=b("IGDChatTabsThreadContainer_SlideThread.graphql"),e);if(a!=null)return l.jsx(c("IGDThreadDetailContextWrapper.react"),{thread:a,children:l.jsx(c("IGDChatTabsThreadDetail.react"),{thread:a})});else return l.jsx(c("IGDChatTabsThreadViewNullState.react"),{})}a.displayName=a.name+" [from "+f.id+"]";e=m(a);g["default"]=e}),98);